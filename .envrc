watch_file nix/* \
    flake.nix flake.locl \
    devshell/*
{
    # shell gc root dir
    mkdir -p "$(direnv_layout_dir)"
    eval "$(nix print-dev-env ./devshell --no-update-lock-file --no-write-lock-file --profile $(direnv_layout_dir)/flake-profile)"
} || use nix
